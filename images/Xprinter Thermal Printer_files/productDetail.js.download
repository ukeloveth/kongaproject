(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"+DJo":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/productDetail",function(){var e=a("QCJY");return{page:e.default||e}}])},QCJY:function(e,t,a){"use strict";a.r(t);var r=a("pbKT"),n=a.n(r),c=a("6BQ9"),i=a.n(c),o=a("vYYK"),s=a("9Jkg"),l=a.n(s),u=a("p0XB"),d=a.n(u),m=a("ln6h"),p=a.n(m),f=a("zrwo"),b=a("O40h"),g=a("0iUn"),y=a("sLSF"),h=a("Tit0"),v=a("MI3g"),O=a("a7VT"),E=a("q1tI"),j=a.n(E),w=(a("17x9"),a("U6Y8")),N=a("BO3M"),k=a("yrdZ"),I=a("6Fhd"),D=a("GvIg"),R=a("5IA4"),P=a("v/Q/"),_=a("efZa"),A=a("azIb"),C=a("B3rz"),x=a("F3Fn"),S=a("QvQN"),T=a("o/GC"),B=a.n(T),F=A.a.asset,U=A.a.carouselVariants,V=function(e){var t=e.pageData,a=t.features,r=t.featurelist,n=t.details,c=t.imageslides,i=t.video,o=a[0];return j.a.createElement("section",{className:B.a.detailsWrapper},o&&j.a.createElement("section",{className:B.a.camera},j.a.createElement("div",{className:B.a.detailsContainer},j.a.createElement("p",{className:B.a.cameraTitle},o.title),j.a.createElement("p",{className:B.a.cameraDescription},o.description),j.a.createElement("section",{className:B.a.featurelistWrapper},r&&r.map(function(e,t){return j.a.createElement("div",{className:B.a.featurelist,key:t},j.a.createElement("div",{className:B.a.cameraIconWrapper},j.a.createElement(x.a,{alt:"".concat(e.title,"."),className:B.a.cameraIcon,name:e.image,type:F.cloudinaryType})),j.a.createElement("div",null,j.a.createElement("p",{className:B.a.cameraCapacity},e.title),j.a.createElement("p",{className:B.a.cameraFeature},e.description)))}))),j.a.createElement(x.a,{alt:"".concat(o.title,"."),name:o.image,type:F.cloudinaryType})),n&&n.map(function(e,t){return j.a.createElement("section",{className:B.a.details,key:t},j.a.createElement("div",{className:B.a.detailsContainer},j.a.createElement("p",{className:B.a.title},e.title),j.a.createElement("p",{className:B.a.description},e.description)),j.a.createElement(x.a,{alt:"".concat(e.title,"."),name:e.image,type:F.cloudinaryType}))}),c&&j.a.createElement(S.a,{itemClass:B.a.imageSlideWrapper,mode:U.adjacent,renderSlide:function(e){return j.a.createElement(x.a,{alt:"".concat(e.name,"."),className:B.a.imageSlide,key:e.code,name:e.name,type:F.cloudinaryType})},showIndicators:!1,slides:c}),i&&j.a.createElement("iframe",{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,"aria-label":"Video Analysis of the product",className:B.a.videoIntro,frameBorder:"0",height:"700",src:t.video,width:"100%"}))},M=a("OhYr"),W=a("B9Va"),Y=a("W6PO"),J=a.n(Y),K=a("PbmA"),Q=a("Qdgr"),q=a("oRri"),H=a("Kjdj"),L=a("PYBl"),G=a.n(L),z=a("ioyF"),X=a("eymi"),Z=a.n(X),$=a("98oD"),ee=a("dSt2"),te=a.n(ee);function ae(e){var t=function(){if("undefined"==typeof Reflect||!n.a)return!1;if(n.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n()(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,r=Object(O.default)(e);if(t){var c=Object(O.default)(this).constructor;a=n()(r,arguments,c)}else a=r.apply(this,arguments);return Object(v.default)(this,a)}}var re=J.a.images.cloudinaryBaseImageUrl,ne=A.a.imgSrcSetMap,ce=$.a.flash.showFlashMessage,ie=A.a.flash.variants,oe=J.a.salesAI.enabled,se=te.a.productDetails,le=te.a.productDetailsBreadCrumbs,ue=te.a.productDetailsContent,de=te.a.productDetailsHeader,me=te.a.productDetailsHeaderWrapper,pe=function(e){Object(h.default)(a,e);var t=ae(a);function a(e){var r;return Object(g.default)(this,a),(r=t.call(this,e)).state={recommendations:null,salesAIAds:null},r}return Object(y.default)(a,[{key:"loadRecommedationsData",value:function(){var e=this,t=this.props.recOptions;N.a.getProductRecommendations(t).then(function(t){Object(K.isNotEmptyArray)(t)&&(e.setState({recommendations:t}),Object(D.h)(Object(D.N)(t),"Product Detail Recommendations"))}).catch(function(e){G.a.error("[ProductDetail.componentDidMount] Error fetching recommendations - ",e.message)})}},{key:"componentDidMount",value:function(){var e=Object(b.default)(p.a.mark(function e(){var t,a,r,n,c,i,o,s,l,u,d,m,b,g,y;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.data,t.recOptions&&this.loadRecommedationsData(),a&&a.product&&(r=a.product,n=r.categories,c=null,Object(K.isNotEmptyArray)(n)&&(c=n[n.length-1]),i=c?c.name:"",Object(D.g)(Object(D.M)(Object(f.a)({},r,{categoryName:i})),i,Object(D.w)(r)),oe&&(o=r&&r.sku,s=this,l=setInterval(function(){"undefined"!==window._fetchProducts&&(clearInterval(l),s.fetchSalesAIProductAds(o))},500)),u=window.location.href,d=u.indexOf("seller_id")>-1&&u.indexOf("sku_id")>-1&&u.indexOf("sclid")>-1,window&&Object(H.b)()&&(d?(m=r.sku,b=r.seller,g=u.match(/sclid=(.*)/)&&u.match(/sclid=(.*)/)[1],y="seller_id=".concat(b.id,"&sku_id=").concat(m,"&sclid=").concat(g,"&svt=1|AUTO_CPC&tag=REVX_TAG"),window.location.href="kongaProduct://".concat(y)):window.location.href="kongaProduct://".concat(r.sku)));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchSalesAIProductAds",value:function(){var e=Object(b.default)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t){e.next=5;break}return e.next=4,Object(I.c)(t);case 4:a=e.sent;case 5:this.setState({salesAIAds:a}),Object(D.h)(Object(D.N)(a),D.v.productDetail.salesAIAds);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.productID!==this.props.productID&&this.loadRecommedationsData()}},{key:"render",value:function(){var e,t=this.props,a=t.data,r=t.productID,n=t.appHostname,c=t.rtbPixelSrc,i=t.pageData,s=this.state,u=s.recommendations,m=s.salesAIAds;if(!a||!a.product)return j.a.createElement(E.Fragment,null,j.a.createElement(C.a,{title:"Product Not Found"}),j.a.createElement(M.a,{hideAlternate:!0,variant:A.a.emptyResultVariants.product,withButton:{link:"/search?search=".concat(r),text:"Search for related products"}}));var p=a.product,f=a.states,b=p.categories,g=Object(K.normalizeProductValues)(p),y=[],h=[];d()(b)&&b.length>0&&(y=b.slice(0,b.length-1),h=b[b.length-1]);var v="".concat(n,"/").concat(p.url_key),O=J.a.searchSchemaUrl,w=p.stock.in_stock?"InStock":"OutOfStock",N=g.productRating,k=g.productReview&&g.productReview.reviews,I=d()(k)?k.filter(function(e){return!!e.comment}):[],x=l()([{"@context":O,"@type":"ItemPage",breadcrumb:{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:"1",item:{"@id":n,name:"Konga"}},y.map(function(e,t){return{"@type":"ListItem",position:t+2,item:{"@id":"".concat(n).concat(e.url_key),name:e.name}}})]},mainEntity:(e={"@type":"Product","@id":v,name:g.name,brand:g.brand,image:Object(K.cloudinaryImage)(g.image,ne,re),sku:g.id,description:Object(K.stripHtmlTags)(g.description),url:v},Object(o.a)(e,"brand",{"@type":"Thing",name:g.brand||""}),Object(o.a)(e,"aggregateRating",{"@type":"AggregateRating",ratingValue:N&&N.quality&&N.quality.average,reviewCount:I&&I.length||0}),Object(o.a)(e,"offers",{"@type":"Offer",priceCurrency:"NGN",price:g.price,itemCondition:"NewCondition",availability:w,url:v,seller:{"@type":"Person",name:g.seller.name}}),Object(o.a)(e,"review",[k.map(function(e){return{"@type":"Review",author:e.customer_name,datePublished:Object(q.h)(e.created_at),description:e.comment,reviewRating:{"@type":"Rating",bestRating:"5",ratingValue:e.quality_rating,worstRating:"1"}}})]),e)}]);return j.a.createElement(E.Fragment,null,j.a.createElement(_.a,{schemaData:x}),j.a.createElement("div",{className:se},j.a.createElement("div",{className:me},j.a.createElement("div",{className:de},j.a.createElement("div",{className:le},j.a.createElement(P.a,{items:y,variant:A.a.breadCrumbVariants.category})),j.a.createElement("h1",null,h.name))),j.a.createElement("div",{className:ue},j.a.createElement(R.d,{deliveryOptions:null,product:p,states:f}),j.a.createElement(R.c,{rating:N,seller:p.seller}),j.a.createElement(R.a,{product:g}),!Object(K.isObjectEmpty)(i)&&i&&j.a.createElement(V,{pageData:i}),j.a.createElement("div",null,Object(K.isNotEmptyArray)(u)&&j.a.createElement(R.b,{items:u,label:D.v.productDetail.recommendations,title:"Similar Items You May Like"})),oe&&Object(K.isNotEmptyArray)(m)&&j.a.createElement(R.b,{items:m,label:D.v.productDetail.salesAIAds,title:"Sponsored Products"}))),c&&j.a.createElement(W.b,{src:c}))}}],[{key:"getInitialProps",value:function(){var e=Object(b.default)(p.a.mark(function e(t){var a,r,n,c,o,s,u,m,b,g,y,h,v,O,E,j,I,R,P,_,A,C,x,S,T,B,F,U,V;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,r=(a=void 0===a?{}:a).productID,n=a.error,c=t.store,o=t.req,s=t.res,u=t.isServer,m=Object(K.parseFriendlyUrl)(r),b=Object(Q.a)(o,c),g=b.user,y=b.guest,h=u?o&&o.appHostname:window&&window.location.origin,v=J.a.recommendedProducts,O=v.placements.productDetails,E=v.productDetailsRecommendations,j={products:[i()(m)]},I=w.a.getOptions(O,E,j,g,y),R={},(P=g&&g.id||y&&y.id)&&w.a.recsTrackProductClick(P,m),e.next=16,N.a.getProductInfo(m).catch(function(e){G.a.warn("[productDetail.getInitialProps] Error loading product data - ",l()(e))});case 16:if(!(_=e.sent)||!_.product){e.next=33;break}if(A=_.product,C=A.categories,x=g?g.email:"",S=null,d()(C)&&(C.forEach(function(e){e.url_key="/category/".concat(e.url_key,"-").concat(e.id)}),S=C[C.length-1]),!A.custom_options){e.next=28;break}return T="2-".concat(m),e.next=27,Object(k.b)(T).then(z.n,!0).then(function(e){var t=e&&e.features,a=Object(z.m)(t),r=e&&e.featurelist,n=Object(z.m)(r),c=e&&e.details,i=Object(z.m)(c),o=e&&e.imageslider,s=Object(z.m)(o),l=e&&e.video;return{features:a,featurelist:n,details:i,imageslides:s,video:Object(z.m)(l)[0].text}}).catch(function(e){return G.a.error("[ProductDetail.getInitialProps] Error fetching content - ",e.message),{}});case 27:R=e.sent;case 28:B=S?S.name:"",Object(D.g)(Object(D.M)(Object(f.a)({},A,{categoryName:B})),B,Object(D.w)(A),o,s),Object(D.I)(x,m),e.next=35;break;case 33:return s&&(s.statusCode=404),e.abrupt("return",{productID:m});case 35:if(!n){e.next=45;break}F=_.product&&"configurable"===_.product.product_type,U=Z.a.UNKNOWN_APP_ERROR,e.t0=n,e.next="cart"===e.t0?41:43;break;case 41:return U=F?Z.a.UNKNOWN_CART_ERROR_CONFIG:Z.a.UNKNOWN_CART_ERROR,e.abrupt("break",44);case 43:return e.abrupt("break",44);case 44:c&&U&&c.dispatch(ce({title:"Cart Error",content:U.message,variant:ie.ERROR}));case 45:return e.next=47,Object(D.C)(g&&g.email,m);case 47:return V=e.sent,e.abrupt("return",{data:_,productID:r,appHostname:h,rtbPixelSrc:V,pageData:R,recOptions:I});case 49:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),a}(E.Component);a.d(t,"default",function(){return pe})}},[["+DJo",1,2,0,3]]]);